params {
    repo_url = '<repository-url>'
    output_dir = 'results'
}

process {
    withLabel: 'gpu' {
        executor = 'local'
        queueSize = 1
        memory = '8 GB'
        cpus = 4
        gpu {
            enabled = true
            device = '0'
        }
    }
    
    withName: 'ProcessRepo' {
        container = 'bitnami/git'
    }
    
    withName: 'RunAlmanack' {
        container = 'community.wave.seqera.io/library/pip_almanack:34e622e308f4a975'
    }
    
    withName: 'GenerateReport' {
        container = 'ubuntu:jammy'
    }
}

workDir = 'work'

profiles {
    tower {
        process.container = 'aditigopalan/cckp-toolkit:latest'
        docker.enabled = true
    }
}
